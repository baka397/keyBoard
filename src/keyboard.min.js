!function(e){function y(e){var y={"key-9":"tab","key-13":"enter","key-16":"shift","key-17":"ctrl","key-18":"alt","key-32":"space","key-37":"left_arrow","key-38":"up_arrow","key-39":"right_arrow","key-40":"down_arrow","key-48":"0","key-49":"1","key-50":"2","key-51":"3","key-52":"4","key-53":"5","key-54":"6","key-55":"7","key-56":"8","key-57":"9","key-65":"a","key-66":"b","key-67":"c","key-68":"d","key-69":"e","key-70":"f","key-71":"g","key-72":"h","key-73":"i","key-74":"j","key-75":"k","key-76":"l","key-77":"m","key-78":"n","key-79":"o","key-80":"p","key-81":"q","key-82":"r","key-83":"s","key-84":"t","key-85":"u","key-86":"v","key-87":"w","key-88":"x","key-89":"y","key-90":"z","key-112":"f1","key-113":"f2","key-114":"f3","key-115":"f4","key-116":"f5","key-117":"f6","key-118":"f7","key-119":"f8","key-120":"f9","key-121":"f10","key-122":"f11","key-123":"f12"};return y["key-"+e]}var k=function(e,y){return this.rule=e,this.press_key="",this.option={forbidden:"shift"},this.option=$.extend(this.option,y),this};k.prototype={update:function(e){this.rule=e},on:function(){var e=this;$(document).on("keydown",function(k){var r=y(k.keyCode);if(r&&e.press_key){var t="(^|\\-)"+r+"(\\-|$)",n=new RegExp(t);n.test(e.press_key)||(e.press_key+="-"+r)}else e.press_key=y(k.keyCode);if(r&&e.press_key){var t="(^|\\-)"+e.option.forbidden+"(\\-|$)",n=new RegExp(t);if(n.test(e.press_key))return!1}}),$(document).on("keyup",function(k){if("function"==typeof e.rule[e.press_key]&&new e.rule[e.press_key],e.press_key){var r=y(k.keyCode);if(r){var t="(^|\\-)"+r+"(\\-|$)",n=new RegExp(t);e.press_key=e.press_key.replace(n,"$2")}}""===e.press_key&&e.rule["default"]&&new e.rule["default"]})},off:function(){$(document).off("keydown"),$(document).off("keyup")}},e.keyBoard=k}(window);